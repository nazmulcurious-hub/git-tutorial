#include <stdio.h>
#include <string.h>

/* Preprocesor directive in c  */
/*
#include
#undef
#elif
#if
#else
#error
#elifdef
#endif
#elifndef

*/
/*
typedef union Data {
   float f;
   char str[20];
   double d;
}codec;

void  main( ) {

   union Data data;
   data.f=2.03;
   printf("Float value is %f \n",data.f);
   data.d=6.00;
   printf("Double value is %lf \n",data.d);
   strcpy(data.str,"Sameer");
   printf("String value is %s \n",data.str);
   printf( "Memory size occupied by data : %d\n", sizeof(codec));
}
/*

/* Check for Prime number */
/*void main(){
int a;
int i;
int flag=0;
printf("Enter number");
scanf("%d",&a);
for(i=2;i<=a/2;i++){
if(a%i==0)
{
    flag=1;
    break;
 }
}
if(flag==1)
     printf("Not prime number");

else
    printf("prime number");
}*/

/* Display prime number till given number */
/*
void main(){
    int p;
    int i;
    int j;
  printf("number of prime number");
  scanf("%d",&p);
  for(i=1;i<=p;i++){
        int flag=0;
    for(j=2;j<=i/2;j++)
    {
        if(i%j==0){
        flag=1;
        break;
        }
     }
    if(flag==0)
     printf("%d  ",i);
  }
}
*/

/* 2D array passed in function */
/*int size;
void addArr(int arr[][size]){
int sum=0;
int i;
int j;
for(i=0;i<size;i++){
    for(j=0;j<size;j++){
        sum=sum+arr[i][j];

    }
}
printf("sum is %d\n",sum);
}

void main(){
int i;
int j;
printf("Enter size: ");
scanf("%d",&size);
int arr[size][size];
printf("Enter element of an array: ");
for(i=0;i<size;i++){
    for(j=0;j<size;j++){
       scanf("%d",&arr[i][j]);

        }
      }
    for(i=0;i<size;i++){
            printf("\n");
    for(j=0;j<size;j++){
            printf("%d  ",arr[i][j]);
    }
  }

  addArr(arr);
}*/


/* passing array using double pointer */

/*
void add(int *arr[2][2]);
int main()
{
  int arr[2][2];
  int i,j;
  printf("Enter the array");
  for(i=0;i<2;i++)
 {
   for(j=0;j<2;j++){
    scanf("%d",&arr[i][j]);
   }
 }
 add(arr);
}

void add(int *arr[2][2])
{
    int i,j;
for(i=0;i<2;i++)
 {
     for(j=0;j<2;j++)
     {
     printf("%d ",arr[i][j]);
     }
  }
}

*/
/*
void swap(int *a,int *b);
void main(){
    int a=20;
    int b=5;

    printf("value before swaping id %d %d",a,b);
    swap(&a,&b);
    printf("\n Value after swaping is %d %d",a,b);

}
void swap(int *c,int *d){
int temp=*c;
*c=*d;
*d=temp;

printf("swaped value id %d %d", *c,*d);
}
*/

/* Pass structure using pointer */
/*
struct books{
int bookId;
char Author[50];
char BookName[50];
char BookMonth[10];
};
void Display(struct books *book1);
void main(){
struct books book,*ptr;
ptr=&book;
char authr[52];
printf("Enter bookId:  ");
scanf("%d",&(ptr->bookId));
printf("Enter the name of the Author:  ");
scanf("%s",&(ptr->Author));
printf("Enter book Month:  ");
scanf("%s",&book.BookMonth);
strcpy(book.BookName,"KPIT");
Display(&book);
}
void Display(struct books *book){
printf("%d\n",book->bookId);
printf("%s\n",book->Author);
printf("%s\n",book->BookName);
printf("%s",book->BookMonth);
}
*/

/* Pass structure without pointer*/
/*
struct books{
int bookId;
char name[20];
char author[10];
}book1;

void printBook(struct books book);
void main(){
//struct books book1;
book1.bookId=12;
strcpy(book1.name,"Java");
strcpy(book1.author,"Sameer");
printBook(book1);
}

void printBook(struct books book)
{
printf("\nBooks Id is %d ", book.bookId);
printf("\nBooks Name is %s\n", book.name);
printf("Books Author is %s ", book.author);
}
*/

/* *** Decimal to binery conversion *** */
/*
void main(){
int i=1,b=0,c=0,d=0,a;
printf("Enter Value in decimal\n");
scanf("%d",&a);
printf("%d",a);
do{
    c=a%2;
    a=a/2;
    b=b+c*i;
    i=i*10;
}while(a!=0);
printf("\nBinery value is  %d:  ",b);
}
*/

/* Binery do decimal converter */
/*
void main(){

    int rem=0,i=0,dec=0,numb;
    printf("Enter the binery value");
    scanf("%d",&numb);
do{
   rem = numb%10;
   numb = numb/10;
   dec = dec + rem * pow(2,i);
   i++;
 }while(numb!=0);
printf("%d",dec);
}
*/

/* Use of voletile keyword */
/*
struct HwId{
 int command;
 int isbusy;
}mygadget;

void connection(mygadget *gadget,int command){
    if(gadget->isbusy )
        printf("Do nothing");
        else
            gadget->command=123;
}
*/
//C program to convert little Endian to Big Endian//

/*int changed_endian(int num)
{
 int byte0, byte1, byte2, byte3;
 byte0 = (num & 0x000000FF) >> 0 ;
 byte1 = (num & 0x0000FF00) >> 8 ;
 byte2 = (num & 0x00FF0000) >> 16 ;
 byte3 = (num & 0xFF000000) >> 24 ;
 return((byte0 << 24) | (byte1 << 16) | (byte2 << 8) | (byte3 << 0));
}

int main()
{
 int number=101001;
 int new_number;
 new_number=changed_endian(number);
 printf("New number is %d", new_number);
 return 0;
}
*/

//C program to convert little Endian to Big Endian, 2nd method//
/*void main(){
int little=0xFF120000;
int big;
char *litptr=(char*)&little;
char *bigptr=(char*)&big;
bigptr[0]=litptr[3];
bigptr[1]=litptr[2];
bigptr[2]=litptr[1];
bigptr[3]=litptr[0];
printf("little= 0x%x  big=0x%x",little,big);

}*/


/* Big Indian to little indian */
/*
void main(){
int big=0x12345678;
int little;
char *bigEnd=(char*)&big;
char *litend=(char*)&little;
litend[0]=bigEnd[3];
litend[1]=bigEnd[2];
litend[2]=bigEnd[1];
litend[3]=bigEnd[0];
printf("big=0x%x,  little=0x%x",big,little);
}
*/

/* c code without main function */
/*
#define sum main
void sum(){
int a=8,b=9;
int sum=a+b;
printf("sum is  %d + %d = %d ",a,b,sum);

}
*/

// Use of static: It retain the value between function call
/* void main(){
    int i;
printf("\n\n");
for(i=0;i<8;i++){
   static int a=0;
   int b=0;
   b=b+1;
   a=a+i;
printf("%d....%d\n",a,b);
 }
}
*/

// pass array to the function using pointer
/*
void sum(int *arr);
void main(){
 int a[6]={10,20,30,40};
 sum(a);
}
void sum(int *arr1){
    int i;
for(i=0;i<4;i++)
printf("%d\n",arr1[i]);
}
*/

// memory allocation using calloc function
//stdlib.h
/*void main(){
int n,*ptr,sum=0,i;
printf("Enter the number of element");
scanf("%d",&n);
ptr=(int*)malloc(4*sizeof(int));// malloc returns void pointer
if(ptr==NULL){
    printf("No valid location");
    exit(0);
}else
{

    printf("Enter the element of array");
    for(i=0;i<n;i++){
    scanf("%d",&ptr[i]);
    sum=sum+ptr[i];
    }
}
printf("sum is  %d",sum);
free(ptr);
printf("\nsize of aaray is: %d",sizeof(ptr));
}

*/

// memory allocation using calloc function
/* difference between malloc() and calloc() is that, malloc()
   allocates single block of memory whereas calloc() allocates
   multiple blocks of memory each of same size and sets all bytes to zero.*/
/*
void main(){
int n,*ptr,sum=0,i;
printf("Enter the number of element");
scanf("%d",&n);
ptr=(int*)calloc(n,sizeof(int));
if(ptr==NULL){
    printf("No valid location");
    exit(0);
}else
{

    printf("Enter the element of array");
    for(i=0;i<n;i++){
    scanf("%d",&ptr[i]);
    sum=sum+ptr[i];
    }
}
printf("sum is  %d",sum);
free(ptr);
printf("\nsize of aaray is: %d",sizeof(ptr));
}
*/

// Memory location using realloc
/*
void main(){
int n,*ptr,sum=0,i;
printf("Enter the number of element");
scanf("%d",&n);
ptr=(int*)calloc(n,sizeof(int));
printf("Allocate new memory");
scanf("%d",&n);
ptr=realloc(ptr,n);
if(ptr==NULL){
    printf("No valid location");
    exit(0);
}else
{
    printf("Enter the element of array");
    for(i=0;i<n;i++){
    scanf("%d",&ptr[i]);
    sum=sum+ptr[i];
    }
}
printf("sum is  %d",sum);
free(ptr);
printf("\nsize of aaray is: %d",sizeof(ptr));
}
*/

/*
enum week {
     sunday, monday, tuesday, wednesday, thursday, friday, saturday
     };

int main()
{
    enum week today;
    today = wednesday;
    printf("Day %d",today+1);
    return 0;
}
*/

/*enum suit {
    club = 0,
    diamonds = 10,
    hearts = 20,
    spades = 3
} card;

int main()
{
       // card = club;
	printf("Size of enum variable = %d bytes", sizeof(card));
	return 0;
}
*/
/*
void main()
{

 enum numbers{
    A=10,
    B,
    C
    }number;
printf("%d",sizeof(number));
printf("\n%d",A);
}*/


/*Bit wise operation in c */
/*
void main(){
int a=11;//1011
int b=10;//1010

printf("And operation is %d:\n  ",a&b);//1010
printf("Or operation is %d:\n  ",a|b); //1011
printf("XOR operation is %d:\n  ",a^b);//0100// result of bitwise XOR operator is 1
                            //if the corresponding bits of two operands are opposit.
printf("Left-Shift %d :  \n",a<<2);//1100
printf("Bit-Wise complement is %d ",~b);// The 2's complement of a number is equal to the complement of that number plus 1.
}
*/
/*Read the register how many bit of register is 1,or zero  */
/*
void main(){
int arr[8]={1,0,1,0,0,1,1,1};
int i;
int count=0;
int count1=0;
for(i=0;i<8;i++){
    if(arr[i]==1){
        count=count+1;//printf("Bit-Wise complement is %d ",~b);//
    }
    else count1=count1+1;
}
printf("Number of 1's bit is :%d\n  ",count);
printf("number of zero's bit is %d:  ",count1);
}
*/
/* store value on specific memory location */
/*
void main(){
 float  *p=0xFF1200;
 // *p=123;
printf("%x",p);
}
*/
/*Very important */
/*
void main(){
int i=2,j=3,k=2,m;
m=(i++) && (j++) && k++;
printf("%d %d %d %d",i,j,k,m);
}*/

/* Pointer to constant */

/*
void main()
{
    int a=45,b;
    const int *ptr;//a pointer through which one cannot change the value
                    //of variable it points is known as a pointer to constant.
                    //These type of pointers can change the address they point to but cannot change the value kept
                    //at those address.
    ptr=&a;
    printf("%d\n",*ptr);
 // *ptr=10;//Compilation error
 a=50;
 printf("%d",a);
}
*/

/* constant pointer */
/*
void main(){
int val1,val2;
int * const ptr=&val1;// A constant pointer is a pointer that cannot change the address its holding.
printf("%x",ptr);
//ptr=&val2;// Error
}
*/

/*Constant pointer to a constant */
/*void main(){
int val1=9,val2;
const int * const ptr=&val1;//
printf("%d\n",*ptr);
//*ptr=10;// Compilation;// A constant pointer to constant is a pointer that can neither change the address
        // its pointing to and nor it can change the value kept at that address.
val1=30//No compilation error, as we are not changing the value using pointer
printf("%d",val1);
*/
/*if x is globle variable then it will work fine, If x will be local then compilation error */


/*
 extern int x;
 int x;
void main(){
//printf("%d\n",x);
  x=20;
  int x=8;// no Error because (x=8)is in stack memory and (x=20)is in uninitialized code segment
printf("%d",++x);
}
*/
/*
void main(){
char a=12,b,c,d,e=50;
int* const arr[5]={&a,&b,c,d,e};//arr to be an array of 5 constant pointers to a integer
//arr[4]=12; error
//arr[0]=&a;//error
printf("%d",arr[4]);// output is 50
}
*/

/*
struct stud{
 char a,k,j,h,l;
 char *const arr[3];
};
void main(){
struct stud student;
//byte b; error in gcc compiler
//student.arr[0]=3;
printf("%d\n",student.arr[0]);
printf("%d",sizeof(struct stud));
}
*/
/*
void main(){
int sum;
float res=0;
res=1.2+2.9;
printf("%f\n",res);//output = 4.10000
sum = 1.2+2.9;// output=4;
printf("%d\n",sum);
sum=(int)1.2+(int)2.9;//output=3
printf("%d\n",sum);
char arr[5]={'a','b','c','d','e'};
printf("%c\n",arr[1]);// Output b
printf("%c\n",arr[5]);// output is heart char because of '\0'
int i=0;
do
{
    printf("%c\n",arr[i]);
    i++;
}while(arr[i+1]!='\0');//output is a b c d e

char arr1[20]="Sameer";// output Sameer
printf("%s\n",arr1);
printf("%c\n",arr1[1]);// output a
int arr2[10]={1,2,6,8};
printf("arr[2]=%d  arr[6]=%d  arr[7]=%d",arr2[2],arr2[6],arr2[7]);//output 6 0 0
}
*/

/*
void add(int *arr[2][2]);
int main()
{
  int arr[2][2];
  int i,j;
  printf("Enter the array");
  for(i=0;i<2;i++)
 {
   for(j=0;j<2;j++){
    scanf("%d",&arr[i][j]);
   }
 }
 add(arr);
}

void add(int *arr[2][2])
{
    int i,j;
for(i=0;i<2;i++)
 {
     for(j=0;j<2;j++)
     {
     printf("%d ",arr[i][j]);
     }
   }
}
*/
/* swap using bitwise operator */
/*
void main(){
int i=10;
int j=14;

printf("i=%d j=%d",i,j);
i=i^j;//4
j=i^j;//10
i=i^j;//14
printf("\n");
printf("i=%d j=%d",i,j);
}
*/

/*
void main(){void main(){
    int i;
printf("\n\n");
for(i=0;i<8;i++){
   static int a=0;
   int b=0;
   b=b+1;
   a=a+i;
printf("%d....%d\n",a,b);
 }
}
int *ptr=0xff12;
printf("%x",ptr);
}
*/

/* void main(){
int *ptr,n,i;
printf("Enter number of values: ");
scanf("%d",&n);
ptr=malloc(n*sizeof(int));
printf("Enter the value in array");
for(i=0;i<n;i++){
scanf("%d",&ptr[i]);
}
for(i=0;i<n;i++){
    printf("%d ",ptr[i]);
  }
}
*/
/*
void fun(int a,int b){
printf("This is function pointer\n");
printf("%d  %d ",a,b);
}
void main(){
int (*fun_ptr)(int,int)=&fun;
(*fun_ptr)(10,20);
}

*/

/* **************************  DELPHI  ******************************** */

/* Swaping without using 3rd variable */
/*
void swap(int *a,int *b);
void main()
{
  int a=20,b=30;
  printf("value of a & b before swaping is: %d,%d \n\n", a,b);
  swap(&a,&b);
}
swap(int *p,int *q)
{
  *p = *p + *q;
  *q = *p - *q;
  *p = *p - *q;

  printf("value of a & b after swaping is: %d,%d", *p,*q);
}
*/

/* **************** prime number **************************** */
/*
void main()
{
  int a,flag;
  printf("Enter the value: ");
  scanf("%d",&a);
  for(int i=2;i<a/2;i++)
  {
      if(a%i == 0)
      {
          flag = 1;
          printf("%d\n",a);
          break;
      }
      i++;
  }
  if(flag == 1)
  {
    printf("%d is not a prime number\n ", a);
  }
  else
    {
         printf("%d is a prime number\n ", a);
    }
}
*/
/* display prime number till given number */
/*
void main()
{
 int i,j,p;
 int flag = 0;
  printf("Enter the number\n ");
  scanf("%d",&p);
  for(i=1;i<=p;i++)
  {
    flag = 0;
    for(j=2;j<i/2;j++)
	{
	  if(i%j==0)
      {
	   flag = 1;
	   break;
      }
	}
	if(flag == 0)
	printf("%d  ", i);
  }
}
*/

/* ************************ Union *************************** */

/*
union Data
{
  double d;
  char ch[9];
  float f ;
};
void main()
{
    union Data data;
    data.d= 10;
    printf("double is %lf\n ",data.d);
    data.f= 20.03;
    printf("Float is %f\n",data.f);
    strcpy(data.ch , "Sameer");
    printf("String is %s\n",data.ch);
    printf("Size of union is %d", sizeof(data));

}
*/

/* sum of 2D Array */
/*
int size;
void addArr(int a[size][size]);
void main()
{
  int j,i;
  printf("Enter the size of 2D array: \n");
  scanf("%d",&size);
  int arr[size][size];
  printf("Enter the value in Array:\n");
  for(i=0;i<size;i++)
  {
	  for(j=0;j<size;j++)
	  {
        scanf("%d",&arr[i][j]);
	  }
  }

  printf("2D array: \n");
   for(i=0;i<size;i++)
  {
      printf("\n");
	  for(j=0;j<size;j++)
	  {
        printf("%d ",arr[i][j]);
	  }
  }
  addArr(arr);
}
void addArr(int arr[size][size])
{
  int sum = 0,i,j;
   for(i=0;i<size;i++)
  {
	  for(j=0;j<size;j++)
	  {
        sum = sum + arr[i][j];
	  }
  }
  printf("Sum is : %d", sum);
}
*/

/*
struct Book
{
  int id;
  char bookName[10];
}book;
void print(struct Book book1);
void main()
{
  struct Book  *bookptr;
  bookptr = &book;
  printf("Enter the Book Id: ");
  scanf("%d", &bookptr->id);
  printf("Enter the Book name :\n");;
  scanf("%s", &book.bookName);
  print(book);
}

void print(struct Book book2)
{
 printf("Book Id: %d\n", book2.id);
  printf("Book Name: %s ", book2.bookName);
}

*/

/*
void main()
{
  // int a=11;//1011
   //int b=10;//1010
   int b,i;

  int a =10;

  for (i=0;i<4;i++)
  {
      a =( a ^ (1<<3-i));
  }
  printf("%d", a);
  }

*/

/* shorting of array without using 3rd variable*/
/*
void main()
{

int i , j;
int arr[5] = {4,6,2,9,1};

for(i=0;i<5;i++)
{
	for(j=i;j<5;j++)
	{
	  if(arr[i] > arr[j])
	  {
		arr[i] = arr[i] + arr[j];
		arr[j] = arr[i] - arr[j] ;
		arr[i] = arr[i] - arr[j]  ;
	  }
   }
   printf("%d  ",arr[i] );
}
}
*/

/*
typedef struct delphi
{
  int id;
  char auther[10];
};
void main()
{
  struct delphi boss1,boss2, boss3, *bosch[3];
  bosch[0] = &boss1;
  bosch[1] = &boss2;
  bosch[2] = &boss3;
  printf("Enter 1st Id: " );
  scanf("%d \n",&bosch[0]->id);
  printf("Enter 2nd Id: " );
  scanf("%d \n",&bosch[1]->id);
  printf("Enter 2nd Id: " );
  scanf("%d \n",&bosch[2]->id);

  printf("Enter name of Auther:\n " );
  scanf("%s ",&boss1.auther);
  strcpy(boss2.auther, "Sameer");
  printf("enter 3rd aouther name :  ");
  scanf("%s ",&(boss3.auther));




  //printf("1st Id is %d:\n ", (*bosch[1]->id)) ;
  printf("Name of Auther is %s:\n ",*bosch[0]->auther );

  printf ("name of the 1st auther is %s\n",*bosch[1]->auther);
  printf ("name of the 2nd auther %s", *bosch[2]->auther);

}
*/

/*
void main()
{
	int *ptr, arr[5]={1,2,3,4,5};
	ptr = arr;
	printf("%d",*(ptr+2))   ;

}
*/
/* Variable argument */
/*
#include <stdarg.h>
void sum(int num,...)
{
	int i,sum =0;
	va_list vlist;
	va_start(vlist, num);
	for(i=0;i<num;i++)
	{
		sum = sum + va_arg(vlist,int);
	}
	va_end(vlist);
	printf("Sum is %d", sum);

}
*/

/* Even Odd using bitwise operator (If last bit is 1 means odd ) */
/*
void main()
{

	int a = 4172;
    int b = 1;
	if(a &(1))
	{
		printf("%d is odd number ", a);
	}
	else
        {
          printf("%d is Even number ", a);
        }
}
*/

/* Set the MSB bit (remember int means 8 bit ) */
/*
void main()
{
	int b = 31;//11111
	b = b | ( 1<<7 );
	printf("%d ", b);// 159 --> 10011111
}
*/

/* Calculate length of String */

/*
void main()
{
    int i =0;
    int count =0;
   char a[10]="asssdff";
   printf("%s", a);
   printf("Length of String is %d: \n", strlen(a));

   while(a[i]!='\0')
   {
       count ++;
       i++;
   }
   printf("Length of the sting is  %d", count);

}
*/

/* String compare */

/*
void main()
{
  int i=0 , flag=0;
  char a[6]= "Nazmul";
  char b[6] = "Najmul";
  int result =0;
   result = strcmp(a,b);
  while((a[i] != '\0') && (b[i] != '\0'))
  {
       if(a[i] > b[i])
       {
          printf("1st String is greater\n ");
          flag = 1;
          break;
       }
       else if(a[i]< b[i])
       {
          printf("2nd String is greater\n ");
          flag = 1;
          break;
       }
       i++;
  }
  if(flag == 0)
  {
    printf("String is equal\n");
  }


  if(result = 0)
   printf("String is equal");
   else if(result >0 )
    printf("1st string is greater");
   else
   printf("2nd string is greater---");

}

*/

/* address of element using pointer  */
/*
void main()
{
  int arr[] = {7,8,8,7,6,5,8,2};
  int *ptr= arr;
  printf("%x\n",(ptr +3)); //Address of 4th element
  printf("%d\n",*(ptr+3));
  printf("%d\n",ptr[3]);
  printf("%d\n",arr[3]);

}
*/

/* Array of pointer */
/*
void main()
{
  int *name[4]={"Sameer", "Nazmul","Tarannum","Sarfraz"};
  int i;
  for(i=0;i<4;i++)
  {
    printf("%s\n",name[i]);
  }
  printf("%s", *(name+1));
}
*/


//interview question asked in Harman
// create user defined data type using typedef
//write a program to store variable lenght at specific memomy address in embedded C
// write a program to acces a value from array without using index but with pointer

typedef unsigned char  uint8_t;
#define ADDRESS 0x6422087

void storeData(uint8_t *src,uint8_t len);
void main()
{
  uint8_t data[] = {1,2,3,4,5};
  storeData(data,sizeof(data));

}
void storeData(uint8_t *src,uint8_t len)
{
    uint8_t *dest = ADDRESS;
    for(uint8_t i = 0; i<len; i++)
    {
        dest[i] = src[i];
        printf("%d ",dest[i]);
    }
}

// write a program to acces a value from array without using index but with pointer

void main()
{
  int arr[] = {64, 34, 25, 12, 22, 11, 90};
  int *ptr = arr;
  printf("\n value at pointer address is : %d\n ", *(ptr+5));

}

// write a program to transmit the data byte stream

void main()
{
   uint8_t message[] = {0x11, 0x22, 0x33, 0x44,0x55};
   uint8_t len = sizeof(message);
   printf("\n transmitting the byte stream.....");
   Bytestream(message,len);
}
void Bytestream(uint8_t *dest, uint8_t len)
{
    printf("\n");
    for(uint8_t i = 0; i < len; i++)
    {
        printf("0x%02X ",dest[i]);
    }
}
\\ write a program to transfer byte in chuks of 2 byte 

void main()
{
    uint8_t message[] = {0x11, 0x22, 0x33, 0x44,0x55};
    uint8_t len = sizeof(message);
    printf("\n transmitting the byte stream.....");
    transmit_2byte_chunks(message,len);
}

void transmit_2byte_chunks(uint8_t *dest, uint8_t len)
{
    for(uint8_t i = 0; i < len; i +=2)
    {
        printf("\nSending Chunk: ");
        UART_SendByte(dest[i]);

        if(i + 1 < len)
        {
           UART_SendByte(dest[i+1]);
        }
    }
}
void UART_SendByte(uint8_t byte)
{
    printf("0x%02X ", byte);
}

\\ write a program to transfer byte in chuks of 2 byte but in reverse order menas MSB first and LSB for each byte
void main()
{
    uint8_t message[] = {0x11, 0x22, 0x33, 0x44,0x55};
    uint8_t len = sizeof(message);
    printf("\n transmitting the byte stream.....");
    transmit_2byte_chunks(message,len);
}

void transmit_2byte_chunks(uint8_t *dest, uint8_t len)
{
    for(uint8_t i = 0; i < len; i+=2)
    {
           printf("\nSending Chunk: ");
           UART_SendByte(reverseByte(dest[i]));

            if(i + 1 < len)
            {
               UART_SendByte(reverseByte(dest[i+1]));
            }
    }
}
void UART_SendByte(uint8_t byte)
{
    printf("0x%02X ", byte);
}
int reverseByte(uint8_t byte)
{
    uint8_t rev = 0;
    for(int i = 0; i < 8;i++)
    {
       if((byte >> i) & 1)
       {
          rev = rev | (1 << 7 - i);
       }
    }
    return rev;
}

\\ write a program to transfer byte in chuks of 2 byte in same order and in reverse order menas MSB first and LSB for each byte and also send it in binery value 
void main()
{
    uint8_t message[] = {0x11, 0x22, 0x33, 0x44,0x55};
    uint8_t len = sizeof(message);
    printf("\n transmitting the byte stream.....");
    transmit_2byte_chunks(message,len);
}

void transmit_2byte_chunks(uint8_t *dest, uint8_t len)
{
    printf("\n");
    for(uint8_t i = 0; i < len; i+=2)
    {
           printf("\nSending Chunk: ");
           UART_SendByte((dest[i]));
           /* send in reverse order */
           UART_SendByte(reverseByte(dest[i]));

            if(i + 1 < len)
            {
               UART_SendByte((dest[i+1]));
                /* send in reverse order */
               UART_SendByte(reverseByte(dest[i+1]));
            }
    }
}
void UART_SendByte(uint8_t byte)
{
    printf("0x%02X ", byte);
	printBinary(byte);
}
int reverseByte(uint8_t byte)
{
    uint8_t rev = 0;
    for(int i = 0; i < 8;i++)
    {
       if((byte >> i) & 1)
       {
          rev = rev | (1 << 7 - i);
       }
    }
    return rev;
}
void printBinary(uint8_t byte)
{
    uint8_t bit = 0;
    for(uint8_t i = 0; i < 8; i++)
    {
        bit = ((byte >> (7-i)) & 1);
        printf("%d",bit);
        if(i == 3)
        {
           printf(" ");
        }
    }
    printf(", ");
}

\\ write a program to transfer byte in chuks of 8 byte

void main()
{
    uint8_t message[] = {0x11,0x22,0x33,0x44,0x55,0x66,0x77,0x78,0x79,0x80,0x11,0x22,0x33,0x44,0x55,0x66,0x77,0x78,0x79,0x80};
    uint8_t len = sizeof(message);
    printf("\n transmitting the byte stream.....");
    transmit_8byte_chunks(message,len);
return 0;	
}

void transmit_8byte_chunks(uint8_t *dest, uint8_t len)
{
    printf("\n");
    for(uint8_t i = 0; i < len; i+=8)
    {
        printf("\nSending 8 byte Chunk: ");
        for(uint8_t j = 0; j<8 &&(i+j) < len; j++)
        {
            UART_SendByte((dest[i+j]));
        }
    }
}

void UART_SendByte(uint8_t byte)
{
    printf("0x%02X  ", byte);
}

// write a code to calculate the length of string
void main()
{
  char str[] = "Liayna";
  mystrlen(str);
}
 
void mystrlen(char* str)
{
    uint8_t len = 0;
    while(*str++)
    {
        len++;
    }
    printf("string length is: \n%d", len);
}

// write a code to copy data drom src to destination address
void main()
{
  uint8_t data[] = {0x11,0x12,0x13,0x14,0x15,0x16,0x17,0x18,0x11,0x12,0x13];
  uint8_t len = sizeof(data);
  uint8_t *dest;
  memoryCopy(data,&dest,len);
  
}
void memoryCopy(uint8_t *src,uint8_t *dest,uint8_t len)
{
    int i =0;
    printf("\n");
    while(i<len)
    {
          dest = src;
          CAN_SendByte(dest[i]);
          i++;
    }
}
  /* Extract high and low bytes of a 16-bit value*/
 void main()
 {
   uint16_t Byte_2 = 0x11F2;
   extractByte(Byte_2);
  }
 void extractByte(uint16_t byte2)
{
   uint8_t Highnibble = (byte2 >> 8) & 0xFF;
   uint8_t Lownibble = (byte2) & 0xFF;

    //uint8_t Highnibble = byte2 & 0xFF00; not correct
    //uint8_t Lownibble =  byte2 & 0x00FF; not corect
    printf("\nHigh Nibble 0x%02x Low Nibble 0x%02x,",Highnibble, Lownibble);
}

/* Send data using structure and pointer dynamically using malloc*/
typedef struct Canframe
{
    uint8_t canId;
    uint8_t DLC;
    uint8_t Data[];
}CanFrame_t;

void main()
{
  uint8_t Data[] = {0x11,0x12,0x13,0x14,0x15,0x16,0x17,0x18,0x11,0x12,0x13,0x14,0x15,0x16,0x17,0x18,0x11,0x12,0x13,0x14,0x15,0x16,0x17,0x18,0x19,0x20};
  uint8_t len = sizeof(Data);
  CanFrame_t *CanFrame = (CanFrame_t*)malloc(sizeof(CanFrame_t)+len);
  CanFrame->canId = 0x12;
  CanFrame->DLC = 0x08;
  memcpy(CanFrame->Data,Data,len);
  printf("Transmitting data ........");
  transmit_Byte_chunk(CanFrame,len);

  return 0;

}

void transmit_Byte_chunk(CanFrame_t *data,uint8_t len)
{
    for(uint8_t i =0; i<len; i+=(data->DLC))
    {
        printf("\nsend %d Byte chunk: ",data->DLC);
        for(uint8_t j = 0; (j<data->DLC && (i+j<len));j++)
        {
            Can_Send_Byte(data->Data[i+j]);
        }
    }
}

void Can_Send_Byte(uint8_t data)
{
    printf("0x%02x ",data);
}

/* Send data using structure without dynamically created pointer  using structure*/
uint8_t Data[] = {0x11,0x12,0x13,0x14,0x15,0x16,0x17,0x18,0x11,0x12,0x13,0x14,0x15,0x16,0x17,0x18,0x11,0x12,0x13,0x14,0x15,0x16,0x17,0x18,0x19,0x20};
#define LEN sizeof(Data)

typedef struct Canframe
{
    uint8_t canId;
    uint8_t DLC;
    uint8_t Data[LEN];
}CanFrame_t;

void main()
{
  uint8_t len = sizeof(Data);
  CanFrame_t CanFrame;// = (CanFrame_t*)malloc(sizeof(CanFrame_t));
  CanFrame.canId = 0x12;
  CanFrame.DLC = 0x08;
  memcpy(CanFrame.Data,Data,len);
  printf("Transmitting data ........");
  transmit_Byte_chunk(CanFrame,len);

  return 0;

}

void transmit_Byte_chunk(CanFrame_t *data,uint8_t len)
{
    for(uint8_t i =0; i<len; i+=(data->DLC))
    {
        printf("\nsend %d Byte chunk: ",data->DLC);
        for(uint8_t j = 0; (j<data->DLC && (i+j<len));j++)
        {
            Can_Send_Byte(data->Data[i+j]);
        }
    }
}

void Can_Send_Byte(uint8_t data)
{
    printf("0x%02x ",data);
}
